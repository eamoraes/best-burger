<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width" />

	<title>Lista de Convidados</title>
	
	<link th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"
		rel="stylesheet" />
	<link th:href="@{/webjars/bootstrap/css/bootstrap-theme.min.css}"
		rel="stylesheet" />
		
	<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>	
	
</head>
<body>
	<div class="panel panel-primary" style="margin: 10px">
		<div class="panel-heading">
			<h1 class="panel-title">Lista de convidados</h1>
		</div>
		<div class="panel-body">
			
			<form class="form-inline" method="GET" th:action="@{/guests/listGuests}"
				th:object="${guest}" style="margin: 20px 0">
				<div class="form-group">
					<input type="text" class="form-control" id="nome"
						th:field="*{name}" placeholder="Nome" /> <input type="text"
						class="form-control" id="quantidadeAcompanhantes"
						th:field="*{companionAmount}" placeholder="Acompanhantes" />

					<button type="submit" class="btn btn-primary">
						<span class="glyphicon glyphicon-filter" aria-hidden="true"></span> Filtrar
					</button>
				</div>
			</form>
			
			<table class="table table-striped table-bordered" style="width:100%">
			    <thead>
			        <tr>
			            <th th:text="#{msg.id}" />
			            <th th:text="#{msg.name}" />
			        </tr>
			    </thead>
			    <tbody>
			        <tr th:each="guest, iStat : ${guestPage.content}"
			            th:style="${iStat.odd}? 'font-weight: bold;'"
			            th:alt-title="${iStat.even}? 'even' : 'odd'">
			            <td th:text="${guest.id}" />
			            <td th:text="${guest.name}" />
			        </tr>
			    </tbody>
			</table>
			
			<nav aria-label="Page navigation">
				<ul class="pagination">
				
					<li th:class="${guestPage.first} ? disabled">
						<span th:if="${guestPage.first}">← First</span>
						<a th:if="${not guestPage.first}" th:href="@{/guests/listGuests(size=${guestPage.size}, page=0)}">← Primeiro</a>
					</li>
					
					<li th:class="${not guestPage.hasPrevious()} ? disabled">
						<span th:if="${not guestPage.hasPrevious()}">«</span>
						<a th:if="${guestPage.hasPrevious()}" th:href="@{/guests/listGuests(size=${guestPage.size}, page=${guestPage.number-1})}" title="Voltar para a página anterior">«</a>     
					</li>
			  
					<li th:each="pageNumber : ${#numbers.sequence(1, guestPage.totalPages)}"
					th:class="${pageNumber==guestPage.number + 1} ? active">
						<span th:if='${pageNumber==guestPage.number + 1}' th:text='${pageNumber}'>1</span>
						<a th:if='${pageNumber!=guestPage.number + 1}' th:href="@{/guests/listGuests(size=${guestPage.size}, page=${pageNumber-1})}"
						        	th:text=${pageNumber}>
						</a>
					</li>
					
					<li th:class="${not guestPage.hasNext()} ? disabled">
						<span th:if='${not guestPage.hasNext()}'>»</span>
						<a th:if='${guestPage.hasNext()}' th:href='@{/guests/listGuests(size=${guestPage.size}, page=${guestPage.number+1})}' title='Ir para a próxima página'>»</a>
					</li>
				

			      <li th:class="${guestPage.last} ? disabled ">
			        <span th:if="${guestPage.last}">Last →</span>
			        <a th:if="${not guestPage.last}" th:href="@{/guests/listGuests(size=${guestPage.size}, page=${guestPage.totalPages-1})}">Last →</a>
			      </li>		
					
					
								    
				</ul>
			</nav>
			
		</div>
		<div class="panel-footer">
			<a class="btn btn-success btn-md" th:href="@{/guests/form}" > 
				<span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Novo
			</a>
		</div>
	</div>
</body>
</html>